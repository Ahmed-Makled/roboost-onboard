<div class="tax-bill">
  <div class="tax-header" [style.background-color]="item.Vendor.ProviderBackgroundColor">
    <img [src]="item.Vendor.ProviderLogo" class="tax-header-logo">
    <div class="ms-auto">
      <p class="font-14 c-00f bold mb-2">{{item.Vendor.ProviderAddress}}</p>
      <p class="font-14 c-00f bold">{{item.Vendor.ProviderHotLine}}</p>
    </div>
  </div>
  <div class="tax-body">
    <div class="d-flex align-items-center mb-3">
      <p class="font-14 c-00f bold">الرقم الضريبي : {{item.Vendor.ProviderTaxNo}}</p>
      <p class="font-14 c-00f bold ms-auto">سجل تجاري رقم : {{item.Vendor.ProviderRegistrationNo}} </p>
    </div>
    <div class="d-flex align-items-center bg-e6e7 radius-8 py-3 px-4 ">
      <p class="font-14 c-00f bold">فاتورة مستحقة رقم : <span class="ms-2 font-22"> {{billNo}}</span></p>
      <div class="d-flex align-items-center ms-auto">
        <div class="tax-date">
          <p>{{fromDate}}</p>
        </div>
        <p class="font-14 c-00f bold mx-2">—</p>
        <div class="tax-date">
          <p>{{toDate}}</p>
        </div>
      </div>
    </div>
    <div class="row align-items-center mt-4">
      <div class="col-6">
        <div class="d-flex align-items-center">
          <img [src]="item.Vendor.Logo" class="rect-72 circle me-3">
          <div>
            <p class="font-12 c-66 mb-1">الشركة</p>
            <p class="font-14 c-00f bold">{{item.Vendor.Name}}</p>
          </div>
        </div>
      </div>
      <div class="col-3">
        <p class="font-12 c-66 mb-1">تدفع لـ</p>
        <p class="font-14 c-00f bold">شركة سكوتر لخدمات التوصيل</p>
      </div>
      <div class="col-3">
        <p class="font-12 c-66 mb-1">تاريخ الاستحقاق</p>
        <p class="font-14 c-00f bold">{{duoDate|date:'dd-MM-YYYY'}}</p>
      </div>
    </div>
    <!-- <div class="card-content">
      <table class="table table-stores">
        <thead>
          <tr class="th-header">
            <th>
              Name
            </th>
          </tr>
        </thead>
        <tbody>
          <ng-container *ngFor="let store of item.Stores">
            <tr>
              <td>{{store.StoreName}}</td>
            </tr>
          </ng-container>
        </tbody>
      </table>
    </div> -->

    <div class="table-stores">
      <div *ngIf="kmOrTask">
        <div class="table-stores-header ">
          <div class="row ">
            <div class="col-4">
              <p class="c-18 font-14 bold  text-nowrap">اسم الفرع</p>
            </div>
            <div class="col-2">
              <p class="c-18 font-14 bold  text-nowrap"> عدد الأوردارات</p>
            </div>
            <div class="col-2">
              <p class="c-18 font-14 bold text-nowrap">عدد الكيلوهات</p>
            </div>
            <div class="col-2">
              <p class="c-18 font-14 bold text-nowrap">تكلفة الكيلو</p>
            </div>
            <div class="col-2">
              <p class="c-18 font-14 bold  text-nowrap">التكلفة</p>
            </div>
          </div>
        </div>
        <div class="table-stores-header" *ngFor="let store of item.Stores ; let i = index">
          <div class="row ">
            <div class="col-4">
              <p class="c-00f font-14 bold">{{store.StoreName}}</p>
            </div>
            <div class="col-2">
              <p class="c-00f font-14 bold">{{store.TotalOrders}}</p>
            </div>
            <div class="col-2">
              <p class="c-00f font-14 bold">{{store.NoOfKMs}}</p>
            </div>
            <div class="col-2">
              <p class="c-00f font-14 bold">{{store.KmRate}}<span class="ms-2 c-66">ج م</span></p>
            </div>
            <div class="col-2">
              <p class="c-00f font-14 bold">{{store.KMsDueAmount}}<span class="ms-2 c-66">ج م</span></p>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="!kmOrTask">
        <div class="table-stores-header ">
          <div class="row ">
            <div class="col-6">
              <p class="c-18 font-14 bold  text-nowrap">اسم الفرع</p>
            </div>
            <div class="col-2">
              <p class="c-18 font-14 bold  text-nowrap">عدد الأوردارات</p>
            </div>
            <div class="col-2">
              <p class="c-18 font-14 bold text-nowrap">تكلفة الاوردر</p>
            </div>
            <div class="col-2">
              <p class="c-18 font-14 bold  text-nowrap">التكلفة</p>
            </div>
          </div>
        </div>
        <div class="table-stores-header" *ngFor="let store of item.Stores ; let i = index">
          <div class="row ">
            <div class="col-6">
              <p class="c-00f font-14 bold">{{store.StoreName}}</p>
            </div>
            <div class="col-2">
              <p class="c-00f font-14 bold">{{store.TotalOrders}}</p>
            </div>
            <div class="col-2">
              <p class="c-00f font-14 bold">{{store.TaskRate}}</p>
            </div>
            <div class="col-2">
              <p class="c-00f font-14 bold">{{store.TasksDueAmount}}<span class="ms-2 c-66">ج م</span></p>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="kmOrTask">
        <div class="d-flex align-items-center px-4 py-2">
          <p class="c-00f font-14 bold">الإجمالي</p>
          <p class="c-00f font-14 bold ms-auto "> {{item.TotalKmAmountBeforeTax}}.ج.م</p>
        </div>
        <div class="d-flex align-items-center px-4 py-2">
          <p class="c-00f font-14 bold">الضريبة المضافة ({{item.TaxPercentage*100|number:'1.0'}}%)</p>
          <p class="c-00f font-14 bold ms-auto "> {{item.KmTaxAmount}}.ج.م</p>
        </div>
        <div class="d-flex align-items-center px-4 py-2">
          <p class="c-00f font-14 bold">الإجمالي بعد الضريبة المضافة</p>
          <p class="c-00f font-14 bold ms-auto "> {{item.TotalKmAmountAfterTax}}.ج.م</p>
        </div>
        <div class="d-flex align-items-center py-3 px-4 bg-e6e7 ">
          <p class="c-00f font-16 bold">إجمال المبلغ المستحق</p>
          <p class="c-00f font-32 bold ms-auto d-flex align-items-center"> {{item.TotalKmAmountAfterTax}}<span
              class="font-16 c-00f">.ج.م</span></p>
        </div>
      </div>
      <div *ngIf="!kmOrTask">
        <div class="d-flex align-items-center px-4 py-2">
          <p class="c-00f font-14 bold">الإجمالي</p>
          <p class="c-00f font-14 bold ms-auto "> {{item.TotalOrdersAmountBeforeTax}}.ج.م</p>
        </div>
        <div class="d-flex align-items-center px-4 py-2">
          <p class="c-00f font-14 bold">الضريبة المضافة ({{item.TaxPercentage*100|number:'1.0'}}%)</p>
          <p class="c-00f font-14 bold ms-auto "> {{item.TaskTaxAmount}}.ج.م</p>
        </div>
        <div class="d-flex align-items-center px-4 py-2">
          <p class="c-00f font-14 bold">الإجمالي بعد الضريبة المضافة</p>
          <p class="c-00f font-14 bold ms-auto "> {{item.TotalOrdersAmountAfterTax}}.ج.م</p>
        </div>
        <div class="d-flex align-items-center py-3 px-4 bg-e6e7 ">
          <p class="c-00f font-16 bold">إجمال المبلغ المستحق</p>
          <p class="c-00f font-32 bold ms-auto d-flex align-items-center"> {{item.TotalOrdersAmountAfterTax}}<span
              class="font-16 c-00f">.ج.م</span></p>
        </div>
      </div>
    </div>
  </div>
</div>