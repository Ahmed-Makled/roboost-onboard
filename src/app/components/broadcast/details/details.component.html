<div class="tab ">
    <div class="tab-header">
        <div class="tab-title">
            <div class="title d-flex align-content-center font-16"> <i class="uil uil-arrow-left  pointer"
                    routerLink="/broadcast/home"></i>{{'broadcast.title'|translate}} / {{'broadcast.details.title'|translate}}
            </div>
        </div>

    </div>
</div>


<div class=" div-loading" *ngIf="!page.isPageLoaded">
    <div class="page-content  d-flex align-items-center justify-content-center">
        <div class="card w-100">
            <div class="d-flex flex-column justify-content-center align-items-center">
                <img src="/assets/img/loading.gif" class="d-block mb-3" style="width: 32px;">
                <p class="loading">{{'shared.loading' | translate}} ...</p>
            </div>
        </div>
    </div>
</div>

<div class="page wrapper-view p-0" *ngIf="page.isPageLoaded">
    <div class="page-content">
        <div class="card pb-0 h-100 ">
            <div class="card-content p-0">
                <div class="row mx-0 h-100 ">
                    <div class="col-md-4 pt-3 left-details">
                        <div class="px-1">
                            <div class="">
                                <p class="rb-p-s c-b500 mb-2"><i
                                        class="uil uil-text me-1"></i>{{'broadcast.notification-headline'|translate}} :</p>
                                <p class="rb-h6 bold mb-24 ">{{notificationDetails.Title}}</p>
                                <p class="rb-p-s c-b500 mb-2"><i class="uil uil-subject me-1"></i>{{'broadcast.notification-describ'|translate}} :</p>
                                <p class="rb-p-s bold mb-24 ">{{notificationDetails.Body}}</p>
                            </div>
                        </div>

                        <div class="row">

                            <div class="col-6 b-1 bc-g50 p-3 ps-3">
                                <p class="rb-p-sm c-b500 mb-2"><i
                                        class="uil uil-clock font-16 rb-me-6"></i>{{'broadcast.details.date-time'|translate}} </p>
                                <p class="rb-p-s bold  ">{{notificationDetails.CreatedDate | date:'dd-MM-yyyy'}}
                                     <span class="mx-1">路</span> {{notificationDetails.CreatedDate | date:'hh:mm aa'}}</p>
                            </div>
                            <div class="col-6 b-1 bc-g50 p-3 ps-3">
                                <p class="rb-p-sm c-b500 mb-2"><i class="uil uil-message font-16 rb-me-6"></i> #{{'broadcast.sent'|translate}}
                                </p>
                                <p class="rb-p-s "> <span class="bold me-1">{{notificationDetails.Sent}}</span>{{'system.deliveryman'|translate}}
                                </p>
                            </div>
                            <div class="col-6 b-1 bc-g50 p-3 ps-3">
                                <p class="rb-p-sm c-b500 mb-2"><img src="assets/img/new-ico/user_received.svg" class="rect-16 rb-me-6 align-inherit"/> #{{'broadcast.received'|translate}}
                                </p>
                                <p class="rb-p-s"><span class="bold me-1">{{notificationDetails.Recieved}}</span>{{'system.deliveryman'|translate}}
                                    <span class=" rb-counter rb-counter-md c-g800 bg-y500  font-12 ms-1">{{notificationDetails.RecievedPercentage}}%</span>
                                </p>
                            </div>
                            <div class="col-6 b-1 bc-g50 p-3 ps-3">
                                <p class="rb-p-sm c-b500 mb-2"><i class="uil uil-eye font-16 rb-me-6"></i>#{{'broadcast.viewed'|translate}}</p>
                                <p class="rb-p-s "><span class="bold me-1">{{notificationDetails.Viewed}}</span>{{'system.deliveryman'|translate}}
                                    <span class="rb-counter rb-counter-md c-g500 bg-g25 font-12 ms-1">{{notificationDetails.ViewedPercentage}}%</span>
                                </p>
                            </div>

                        </div>




                    </div>

                    <div class="col-md-8 py-3">
                        <p class="rb-p-s bold  c-b500"><i
                                class="uil uil-user-md me-2"></i>{{'broadcast.details.assigned-agents'|translate}}</p>


                        <div class="scolled my-3">
                            <table class="table   ">
                                <thead>
                                    <tr class="th-header">
                                        <ng-container *ngFor="let colum of page.columns ;let i=index;">
                                            <th>
                                                {{colum.Title|translate }}
                                            </th>
                                        </ng-container>
                                    </tr>
                                </thead>
                                <tbody class="b-1 bc-g25">
                                    <tr [hidden]="assignedAgents.length>0">
                                        <td colspan="20">
                                            <span>{{'shared.no-data-found'|translate}}</span>
                                        </td>
                                    </tr>
                                    <ng-container
                                        *ngFor="let item of assignedAgents | paginate : page.options;let i=index;">
                                        <tr>

                                            <td class="bold"> <img [src]="item.ProfilePicture" class="rect-24 circle me-2"
                                                    onerror="this.onerror=null; this.src='./assets/image/deliveryman_character.png'">
                                                {{item.Name}}</td>
                                            <td *ngIf="item.SentTime">{{ item.SentTime | date:'dd-MM-yyyy'}} <span
                                                    class="mx-1">路</span> {{item.SentTime | date:'hh:mm aa'}}</td>
                                            <td *ngIf="!item.SentTime"> N/A</td>
                                            <td *ngIf="item.DeliveredTime"> {{item.DeliveredTime | date:'dd-MM-yyyy'}}
                                                <span class="mx-1">路</span> {{item.DeliveredTime | date:'hh:mm aa'}}
                                            </td>
                                            <td *ngIf="!item.DeliveredTime"> N/A</td>

                                            <td *ngIf="item.ReadTime">{{item.ReadTime | date:'dd-MM-yyyy'}} <span
                                                    class="mx-1">路</span> {{item.ReadTime | date:'hh:mm aa'}}</td>
                                            <td *ngIf="!item.ReadTime"> N/A</td>


                                        </tr>
                                    </ng-container>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>